<div class="invitation-list-container">

  <mat-accordion *ngIf="channelInvitationListObservable | async as channelInvitationList; else loading">

    <mat-expansion-panel *ngFor="let channelInvitation of channelInvitationList">

      <mat-expansion-panel-header class="invitation-header">

        <mat-icon>
          domain
        </mat-icon>

        <div class="invitation-channel-name">
          <span>
            {{channelInvitation.channel.name}}
          </span>
        </div>

      </mat-expansion-panel-header>

      <ng-template matExpansionPanelContent>

        <mat-panel-description>
          {{channelInvitation.channel.description}}
        </mat-panel-description>

        <p>
          Invited by: {{channelInvitation.sentBy.name}}
        </p>

        <mat-action-row>
          <button mat-button
                  (click)="rejectInvitation(channelInvitation)">
            REJECT
          </button>
          <button mat-button
                  (click)="acceptInvitation(channelInvitation)">
            ACCEPT
          </button>
        </mat-action-row>

      </ng-template>

    </mat-expansion-panel>

    <p *ngIf="!channelInvitationList.length">
      You do not have any channel invitations.
    </p>

  </mat-accordion>

  <ng-template #loading>
    <mat-progress-bar mode="indeterminate">
    </mat-progress-bar>
  </ng-template>

</div>
